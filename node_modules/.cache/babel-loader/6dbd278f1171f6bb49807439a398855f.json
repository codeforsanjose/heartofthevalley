{"ast":null,"code":"var _jsxFileName = \"/Users/lavanyagurajada/HOV_old/heartofthevalley/app/client/src/components/Mapbox.js\",\n    _s2 = $RefreshSig$();\n\nimport * as React from 'react';\nimport '../assets/stylesheets/map.css';\nimport ReactMapGL, { Marker, Popup, FullscreenControl, NavigationControl } from 'react-map-gl';\nimport { Component } from 'react';\nimport { useState } from 'react';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport mapImg from \"../assets/img/UntitledMural_LocatedAtVeggielutionFarm_SanJose_photoby_YanYinChoy.jpg\";\nimport { FaMapMarkerAlt } from 'react-icons/fa';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MAPBOX_TOKEN = 'pk.eyJ1IjoidW1hcHJlZXRoaSIsImEiOiJja3diNm5wN3RnZWhsMnZwZzlyeTl5eDhhIn0.01MGUHXlsnSkJbv1u-mbmw'; // Set your mapbox token here\n\nfunction Mapbox() {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const [viewport, setViewport] = useState({\n    latitude: 37.33829,\n    longitude: -121.88382,\n    zoom: 14\n  }); // Calling MapData API to get data\n\n  /* const [apiData, setApiData] = React.useState([])\n  React.useEffect(() => {\n    fetch('http://localhost:3001/v1/heartofvalley/features')\n      .then((res) => res.json())\n      .then((data) => setApiData(data))\n  }, [])\n   const mapData = apiData.slice(0, 11) */\n\n  const ArtData = url => {\n    _s();\n\n    const [artData, setArtData] = useState(null);\n    const [error, setError] = useState(\"\");\n    const [loaded, setLoaded] = useState(false);\n    useEffect(() => {\n      axios.get(url).then(response => setArtData(response.data)).catch(error => setError(error.message)).finally(() => setLoaded(true));\n    }, []);\n    return {\n      artData,\n      error,\n      loaded\n    };\n  };\n\n  _s(ArtData, \"GQRAQ6z7CYGh5W3EF/69xPyNFb4=\");\n\n  const {\n    artData,\n    error,\n    loaded\n  } = ArtData('http://localhost:3001/v1/heartofvalley/features'); // Creating markers for the map\n\n  const markers = artData.filter(location => {\n    return !!location.latLong;\n  }).map(location => /*#__PURE__*/_jsxDEV(Marker, {\n    latitude: parseFloat(location.latLong[1]),\n    longitude: parseFloat(location.latLong[0]),\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"button\",\n      onClick: e => {\n        e.preventDefault();\n        setShowpopup(location);\n      },\n      children: /*#__PURE__*/_jsxDEV(FaMapMarkerAlt, {\n        className: \"marker\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this)\n  }, location.id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 7\n  }, this)); // creating popup state for the marker\n\n  const [showPopup, setShowpopup] = React.useState(false); // Description\n\n  function description() {\n    return {\n      __html: showPopup === null || showPopup === void 0 ? void 0 : showPopup.artistName\n    };\n  }\n\n  return /*#__PURE__*/_jsxDEV(ReactMapGL, { ...viewport,\n    width: \"80vw\",\n    height: \"70vh\",\n    mapStyle: \"mapbox://styles/umapreethi/ckxz6deec9a3z14t88tqso5rb\",\n    onViewportChange: nextViewport => setViewport(nextViewport),\n    mapboxApiAccessToken: MAPBOX_TOKEN,\n    children: [markers, /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"info-box\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card popup-card\",\n        style: {\n          width: '16rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: mapImg,\n          className: \"card-img-top popup-img\",\n          alt: showPopup.title,\n          width: \"200\",\n          height: \"200\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"popup-title\",\n            children: showPopup.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"ARTIST\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"card-text\",\n            dangerouslySetInnerHTML: description()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            class: \"btn btn-primary popup-button\",\n            children: \"Get Directions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NavigationControl, {\n      position: \"bottom-right\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(Mapbox, \"nq32eebKfrdZL7rzUoKYIncV0SM=\");\n\n_c = Mapbox;\nexport default Mapbox;\n\nvar _c;\n\n$RefreshReg$(_c, \"Mapbox\");","map":{"version":3,"names":["React","ReactMapGL","Marker","Popup","FullscreenControl","NavigationControl","Component","useState","mapImg","FaMapMarkerAlt","MAPBOX_TOKEN","Mapbox","viewport","setViewport","latitude","longitude","zoom","ArtData","url","artData","setArtData","error","setError","loaded","setLoaded","useEffect","axios","get","then","response","data","catch","message","finally","markers","filter","location","latLong","map","parseFloat","e","preventDefault","setShowpopup","id","showPopup","description","__html","artistName","nextViewport","width","title"],"sources":["/Users/lavanyagurajada/HOV_old/heartofthevalley/app/client/src/components/Mapbox.js"],"sourcesContent":["import * as React from 'react'\nimport '../assets/stylesheets/map.css'\nimport ReactMapGL, { Marker, Popup, FullscreenControl, NavigationControl } from 'react-map-gl'\nimport { Component } from 'react'\nimport { useState } from 'react'\nimport 'mapbox-gl/dist/mapbox-gl.css'\nimport mapImg from \"../assets/img/UntitledMural_LocatedAtVeggielutionFarm_SanJose_photoby_YanYinChoy.jpg\"\n\nimport { FaMapMarkerAlt } from 'react-icons/fa'\n\nconst MAPBOX_TOKEN =\n  'pk.eyJ1IjoidW1hcHJlZXRoaSIsImEiOiJja3diNm5wN3RnZWhsMnZwZzlyeTl5eDhhIn0.01MGUHXlsnSkJbv1u-mbmw' // Set your mapbox token here\n\n\nfunction Mapbox() {\n  const [viewport, setViewport] = useState({\n    latitude: 37.33829,\n    longitude: -121.88382,\n    zoom: 14,\n  })\n\n  // Calling MapData API to get data\n  /* const [apiData, setApiData] = React.useState([])\n  React.useEffect(() => {\n    fetch('http://localhost:3001/v1/heartofvalley/features')\n      .then((res) => res.json())\n      .then((data) => setApiData(data))\n  }, [])\n\n  const mapData = apiData.slice(0, 11) */\n\n  const ArtData = (url) => {\n    const [artData, setArtData] = useState(null);\n    const [error, setError] = useState(\"\");\n    const [loaded, setLoaded] = useState(false);\n  \n    useEffect(() => {\n      axios\n        .get(url)\n        .then((response) => setArtData(response.data))\n        .catch((error) => setError(error.message))\n        .finally(() => setLoaded(true));\n    }, []);\n  \n    return { artData, error, loaded };\n  };\n \n  const {artData,error,loaded} = ArtData('http://localhost:3001/v1/heartofvalley/features')\n  \n  \n  // Creating markers for the map\n  const markers = artData\n    .filter((location) => {\n      return !!location.latLong\n    })\n    .map((location) => (\n      <Marker\n        key={location.id}\n        latitude={parseFloat(location.latLong[1])}\n        longitude={parseFloat(location.latLong[0])}\n      >\n        <button\n          className=\"button\"\n          onClick={(e) => {\n            e.preventDefault()\n            setShowpopup(location)\n          }}\n        >\n          <FaMapMarkerAlt className=\"marker\" />\n        </button>\n      </Marker>\n    ))\n\n  // creating popup state for the marker\n  const [showPopup, setShowpopup] = React.useState(false)\n\n // Description\n  function description() {\n    return { __html: showPopup?.artistName }\n  }\n\n  return (\n    <ReactMapGL\n      {...viewport}\n      width=\"80vw\"\n      height=\"70vh\"\n      mapStyle=\"mapbox://styles/umapreethi/ckxz6deec9a3z14t88tqso5rb\"\n      onViewportChange={(nextViewport) => setViewport(nextViewport)}\n      mapboxApiAccessToken={MAPBOX_TOKEN}\n    >\n      {markers}\n      <div id=\"info-box\">\n        <div className=\"card popup-card\" style={{ width: '16rem' }}>\n          <img\n            src={mapImg}\n            className=\"card-img-top popup-img\"\n            alt={showPopup.title}\n            width=\"200\"\n            height=\"200\"\n          />\n          <div className=\"card-body\">\n            <h4 className=\"popup-title\">{showPopup.title}</h4>\n            <p>ARTIST</p>\n            <p className=\"card-text\" dangerouslySetInnerHTML={description()}></p>\n            <a href=\"#\" class=\"btn btn-primary popup-button\">\n              Get Directions\n            </a>\n          </div>\n        </div>\n      </div>\n      <NavigationControl position=\"bottom-right\" />\n    </ReactMapGL>\n  )\n}\n\nexport default Mapbox\n"],"mappings":";;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAO,+BAAP;AACA,OAAOC,UAAP,IAAqBC,MAArB,EAA6BC,KAA7B,EAAoCC,iBAApC,EAAuDC,iBAAvD,QAAgF,cAAhF;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,OAAO,8BAAP;AACA,OAAOC,MAAP,MAAmB,sFAAnB;AAEA,SAASC,cAAT,QAA+B,gBAA/B;;AAEA,MAAMC,YAAY,GAChB,+FADF,C,CACkG;;AAGlG,SAASC,MAAT,GAAkB;EAAA;;EAAA;;EAChB,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BN,QAAQ,CAAC;IACvCO,QAAQ,EAAE,QAD6B;IAEvCC,SAAS,EAAE,CAAC,SAF2B;IAGvCC,IAAI,EAAE;EAHiC,CAAD,CAAxC,CADgB,CAOhB;;EACA;AACF;AACA;AACA;AACA;AACA;AACA;;EAGE,MAAMC,OAAO,GAAIC,GAAD,IAAS;IAAA;;IACvB,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBb,QAAQ,CAAC,IAAD,CAAtC;IACA,MAAM,CAACc,KAAD,EAAQC,QAAR,IAAoBf,QAAQ,CAAC,EAAD,CAAlC;IACA,MAAM,CAACgB,MAAD,EAASC,SAAT,IAAsBjB,QAAQ,CAAC,KAAD,CAApC;IAEAkB,SAAS,CAAC,MAAM;MACdC,KAAK,CACFC,GADH,CACOT,GADP,EAEGU,IAFH,CAESC,QAAD,IAAcT,UAAU,CAACS,QAAQ,CAACC,IAAV,CAFhC,EAGGC,KAHH,CAGUV,KAAD,IAAWC,QAAQ,CAACD,KAAK,CAACW,OAAP,CAH5B,EAIGC,OAJH,CAIW,MAAMT,SAAS,CAAC,IAAD,CAJ1B;IAKD,CANQ,EAMN,EANM,CAAT;IAQA,OAAO;MAAEL,OAAF;MAAWE,KAAX;MAAkBE;IAAlB,CAAP;EACD,CAdD;;EAjBgB,GAiBVN,OAjBU;;EAiChB,MAAM;IAACE,OAAD;IAASE,KAAT;IAAeE;EAAf,IAAyBN,OAAO,CAAC,iDAAD,CAAtC,CAjCgB,CAoChB;;EACA,MAAMiB,OAAO,GAAGf,OAAO,CACpBgB,MADa,CACLC,QAAD,IAAc;IACpB,OAAO,CAAC,CAACA,QAAQ,CAACC,OAAlB;EACD,CAHa,EAIbC,GAJa,CAIRF,QAAD,iBACH,QAAC,MAAD;IAEE,QAAQ,EAAEG,UAAU,CAACH,QAAQ,CAACC,OAAT,CAAiB,CAAjB,CAAD,CAFtB;IAGE,SAAS,EAAEE,UAAU,CAACH,QAAQ,CAACC,OAAT,CAAiB,CAAjB,CAAD,CAHvB;IAAA,uBAKE;MACE,SAAS,EAAC,QADZ;MAEE,OAAO,EAAGG,CAAD,IAAO;QACdA,CAAC,CAACC,cAAF;QACAC,YAAY,CAACN,QAAD,CAAZ;MACD,CALH;MAAA,uBAOE,QAAC,cAAD;QAAgB,SAAS,EAAC;MAA1B;QAAA;QAAA;QAAA;MAAA;IAPF;MAAA;MAAA;MAAA;IAAA;EALF,GACOA,QAAQ,CAACO,EADhB;IAAA;IAAA;IAAA;EAAA,QALY,CAAhB,CArCgB,CA2DhB;;EACA,MAAM,CAACC,SAAD,EAAYF,YAAZ,IAA4B1C,KAAK,CAACO,QAAN,CAAe,KAAf,CAAlC,CA5DgB,CA8DjB;;EACC,SAASsC,WAAT,GAAuB;IACrB,OAAO;MAAEC,MAAM,EAAEF,SAAF,aAAEA,SAAF,uBAAEA,SAAS,CAAEG;IAArB,CAAP;EACD;;EAED,oBACE,QAAC,UAAD,OACMnC,QADN;IAEE,KAAK,EAAC,MAFR;IAGE,MAAM,EAAC,MAHT;IAIE,QAAQ,EAAC,sDAJX;IAKE,gBAAgB,EAAGoC,YAAD,IAAkBnC,WAAW,CAACmC,YAAD,CALjD;IAME,oBAAoB,EAAEtC,YANxB;IAAA,WAQGwB,OARH,eASE;MAAK,EAAE,EAAC,UAAR;MAAA,uBACE;QAAK,SAAS,EAAC,iBAAf;QAAiC,KAAK,EAAE;UAAEe,KAAK,EAAE;QAAT,CAAxC;QAAA,wBACE;UACE,GAAG,EAAEzC,MADP;UAEE,SAAS,EAAC,wBAFZ;UAGE,GAAG,EAAEoC,SAAS,CAACM,KAHjB;UAIE,KAAK,EAAC,KAJR;UAKE,MAAM,EAAC;QALT;UAAA;UAAA;UAAA;QAAA,QADF,eAQE;UAAK,SAAS,EAAC,WAAf;UAAA,wBACE;YAAI,SAAS,EAAC,aAAd;YAAA,UAA6BN,SAAS,CAACM;UAAvC;YAAA;YAAA;YAAA;UAAA,QADF,eAEE;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAFF,eAGE;YAAG,SAAS,EAAC,WAAb;YAAyB,uBAAuB,EAAEL,WAAW;UAA7D;YAAA;YAAA;YAAA;UAAA,QAHF,eAIE;YAAG,IAAI,EAAC,GAAR;YAAY,KAAK,EAAC,8BAAlB;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAJF;QAAA;UAAA;UAAA;UAAA;QAAA,QARF;MAAA;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QATF,eA4BE,QAAC,iBAAD;MAAmB,QAAQ,EAAC;IAA5B;MAAA;MAAA;MAAA;IAAA,QA5BF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAgCD;;IAnGQlC,M;;KAAAA,M;AAqGT,eAAeA,MAAf"},"metadata":{},"sourceType":"module"}