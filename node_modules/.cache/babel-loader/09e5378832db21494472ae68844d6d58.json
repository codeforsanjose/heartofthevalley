{"ast":null,"code":"var _jsxFileName = \"/Users/lavanyagurajada/HOV_old/heartofthevalley/app/client/src/components/Mapbox.js\",\n    _s2 = $RefreshSig$();\n\nimport * as React from 'react';\nimport '../assets/stylesheets/map.css';\nimport ReactMapGL, { Marker, Popup, FullscreenControl, NavigationControl } from 'react-map-gl';\nimport { Component } from 'react';\nimport { useState, useEffect } from 'react';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport axios from \"axios\";\nimport mapImg from \"../assets/img/UntitledMural_LocatedAtVeggielutionFarm_SanJose_photoby_YanYinChoy.jpg\";\nimport { FaMapMarkerAlt } from 'react-icons/fa';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MAPBOX_TOKEN = 'pk.eyJ1IjoidW1hcHJlZXRoaSIsImEiOiJja3diNm5wN3RnZWhsMnZwZzlyeTl5eDhhIn0.01MGUHXlsnSkJbv1u-mbmw'; // Set your mapbox token here\n\nfunction Mapbox() {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const [viewport, setViewport] = useState({\n    latitude: 37.33829,\n    longitude: -121.88382,\n    zoom: 14\n  }); // Calling MapData API to get data\n\n  const ArtData = url => {\n    _s();\n\n    const [artData, setArtData] = useState(null);\n    const [error, setError] = useState(\"\");\n    const [loaded, setLoaded] = useState(false);\n    useEffect(() => {\n      axios.get(url).then(response => setArtData(response.data)).catch(error => setError(error.message)).finally(() => setLoaded(true));\n    }, []);\n    return {\n      artData,\n      error,\n      loaded\n    };\n  };\n\n  _s(ArtData, \"GQRAQ6z7CYGh5W3EF/69xPyNFb4=\");\n\n  const {\n    artData,\n    error,\n    loaded\n  } = ArtData('http://localhost:3001/v1/heartofvalley/features');\n  /*  if(loaded === true){\n     artData\n       .map((data) => {console.log(data)})\n   }\n    */\n  // Creating markers for the map\n\n  let id = 0;\n  const markers = loaded === true && artData.slice(1, 50).map(data => /*#__PURE__*/_jsxDEV(Marker, {\n    latitude: parseFloat(data.latLong[1]),\n    longitude: parseFloat(data.latLong[0]),\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"button\",\n      onClick: e => {\n        e.preventDefault();\n        setShowpopup(data);\n        console.log(data);\n      },\n      children: /*#__PURE__*/_jsxDEV(FaMapMarkerAlt, {\n        className: \"marker\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this)\n  }, data.id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 7\n  }, this)); // creating popup state for the marker\n\n  const [showPopup, setShowpopup] = React.useState(false); // Description\n\n  function description() {\n    return {\n      __html: showPopup === null || showPopup === void 0 ? void 0 : showPopup.artistName\n    };\n  }\n\n  return /*#__PURE__*/_jsxDEV(ReactMapGL, { ...viewport,\n    width: \"80vw\",\n    height: \"80vh\",\n    style: {\n      margin: \"1vh\",\n      border: \"1px solid red\"\n    },\n    mapStyle: \"mapbox://styles/mapbox/streets-v11\",\n    onViewportChange: nextViewport => setViewport(nextViewport),\n    mapboxApiAccessToken: MAPBOX_TOKEN,\n    children: [markers, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-3\",\n      id: \"info-box\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card popup-card\",\n        style: {\n          width: '20rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: showPopup.imagePath,\n          className: \"card-img-top popup-img\",\n          alt: showPopup.Title,\n          width: \"200\",\n          height: \"200\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"popup-title\",\n            children: showPopup.Title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: showPopup.Artist\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"card-text\",\n            dangerouslySetInnerHTML: description()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            class: \"btn btn-primary popup-button\",\n            children: \"Get Directions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NavigationControl, {\n      position: \"bottom-right\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(Mapbox, \"nq32eebKfrdZL7rzUoKYIncV0SM=\");\n\n_c = Mapbox;\nexport default Mapbox;\n\nvar _c;\n\n$RefreshReg$(_c, \"Mapbox\");","map":{"version":3,"names":["React","ReactMapGL","Marker","Popup","FullscreenControl","NavigationControl","Component","useState","useEffect","axios","mapImg","FaMapMarkerAlt","MAPBOX_TOKEN","Mapbox","viewport","setViewport","latitude","longitude","zoom","ArtData","url","artData","setArtData","error","setError","loaded","setLoaded","get","then","response","data","catch","message","finally","id","markers","slice","map","parseFloat","latLong","e","preventDefault","setShowpopup","console","log","showPopup","description","__html","artistName","margin","border","nextViewport","width","imagePath","Title","Artist"],"sources":["/Users/lavanyagurajada/HOV_old/heartofthevalley/app/client/src/components/Mapbox.js"],"sourcesContent":["import * as React from 'react'\nimport '../assets/stylesheets/map.css'\nimport ReactMapGL, { Marker, Popup, FullscreenControl, NavigationControl } from 'react-map-gl'\nimport { Component } from 'react'\nimport { useState, useEffect } from 'react'\nimport 'mapbox-gl/dist/mapbox-gl.css'\nimport axios from \"axios\";\nimport mapImg from \"../assets/img/UntitledMural_LocatedAtVeggielutionFarm_SanJose_photoby_YanYinChoy.jpg\"\n\nimport { FaMapMarkerAlt } from 'react-icons/fa'\n\nconst MAPBOX_TOKEN =\n  'pk.eyJ1IjoidW1hcHJlZXRoaSIsImEiOiJja3diNm5wN3RnZWhsMnZwZzlyeTl5eDhhIn0.01MGUHXlsnSkJbv1u-mbmw' // Set your mapbox token here\n\n\nfunction Mapbox() {\n  const [viewport, setViewport] = useState({\n    latitude: 37.33829,\n    longitude: -121.88382,\n    zoom: 14,\n  })\n\n  // Calling MapData API to get data\n  \n\n  \n\n  const ArtData = (url) => {\n    const [artData, setArtData] = useState(null);\n    const [error, setError] = useState(\"\");\n    const [loaded, setLoaded] = useState(false);\n  \n    useEffect(() => {\n      axios\n        .get(url)\n        .then((response) => setArtData(response.data))\n        .catch((error) => setError(error.message))\n        .finally(() => setLoaded(true));\n    }, []);\n  \n    return { artData, error, loaded };\n  };\n \n  const {artData,error,loaded} = ArtData('http://localhost:3001/v1/heartofvalley/features')\n /*  if(loaded === true){\n    artData\n      .map((data) => {console.log(data)})\n  }\n   */\n  // Creating markers for the map\n  let id = 0\n   const markers = (loaded===true) && artData\n  .slice(1,50)\n   .map((data) => (\n      <Marker\n        key={data.id}\n        latitude={parseFloat(data.latLong[1])}\n        longitude={parseFloat(data.latLong[0])}\n      >\n        <button\n          className=\"button\"\n          onClick={(e) => {\n            e.preventDefault()\n            setShowpopup(data)\n            console.log(data)\n          }}\n        >\n          <FaMapMarkerAlt className=\"marker\" />\n        </button>\n      </Marker>\n    ))  \n   \n\n  // creating popup state for the marker\n  const [showPopup, setShowpopup] = React.useState(false)\n\n // Description\n  function description() {\n    return { __html: showPopup?.artistName }\n  }\n\n  return (\n    <ReactMapGL\n      {...viewport}\n      width=\"80vw\"\n      height=\"80vh\"\n      style={{margin:\"1vh\", border: \"1px solid red\"}}\n      mapStyle=\"mapbox://styles/mapbox/streets-v11\"\n      onViewportChange={(nextViewport) => setViewport(nextViewport)}\n      mapboxApiAccessToken={MAPBOX_TOKEN}\n      \n    >\n       {markers}   \n      <div className = \"mt-3\" id=\"info-box\">\n        <div className=\"card popup-card\" style={{ width: '20rem' }}>\n          <img\n            src={showPopup.imagePath}\n            className=\"card-img-top popup-img\"\n            alt={showPopup.Title}\n            width=\"200\"\n            height=\"200\"\n          />\n          <div className=\"card-body\">\n            <h4 className=\"popup-title\">{showPopup.Title}</h4>\n            <p>{showPopup.Artist}</p>\n            <p className=\"card-text\" dangerouslySetInnerHTML={description()}></p>\n            <a href=\"#\" class=\"btn btn-primary popup-button\">\n              Get Directions\n            </a>\n          </div>\n        </div>\n      </div>\n      <NavigationControl position=\"bottom-right\" />\n    </ReactMapGL>\n  )\n}\n\nexport default Mapbox\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}