{"ast":null,"code":"var _jsxFileName = \"/Users/lavanyagurajada/HOV_old/heartofthevalley/app/client/src/components/Mapbox.js\",\n    _s2 = $RefreshSig$();\n\nimport * as React from 'react';\nimport '../assets/stylesheets/map.css';\nimport ReactMapGL, { Marker, Popup, FullscreenControl, NavigationControl } from 'react-map-gl';\nimport { Component } from 'react';\nimport { useState, useEffect } from 'react';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport axios from \"axios\";\nimport mapImg from \"../assets/img/UntitledMural_LocatedAtVeggielutionFarm_SanJose_photoby_YanYinChoy.jpg\";\nimport { FaMapMarkerAlt } from 'react-icons/fa';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MAPBOX_TOKEN = 'pk.eyJ1IjoidW1hcHJlZXRoaSIsImEiOiJja3diNm5wN3RnZWhsMnZwZzlyeTl5eDhhIn0.01MGUHXlsnSkJbv1u-mbmw'; // Set your mapbox token here\n\nfunction Mapbox() {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const [viewport, setViewport] = useState({\n    latitude: 37.33829,\n    longitude: -121.88382,\n    zoom: 14\n  }); // Calling MapData API to get data\n\n  const ArtData = url => {\n    _s();\n\n    const [artData, setArtData] = useState(null);\n    const [error, setError] = useState(\"\");\n    const [loaded, setLoaded] = useState(false);\n    useEffect(() => {\n      axios.get(url).then(response => setArtData(response.data)).catch(error => setError(error.message)).finally(() => setLoaded(true));\n    }, []);\n    return {\n      artData,\n      error,\n      loaded\n    };\n  };\n\n  _s(ArtData, \"GQRAQ6z7CYGh5W3EF/69xPyNFb4=\");\n\n  const {\n    artData,\n    error,\n    loaded\n  } = ArtData('http://localhost:3001/v1/heartofvalley/features');\n\n  if (loaded === true) {\n    artData.map(data => {\n      console.log(parseFloat(data.latLong[0]));\n    });\n  } // Creating markers for the map\n\n\n  let id = 0,\n      geography = [[-121.886727494171, 37.3378935622801], [-121.801459182274, 37.2997791496116], [-121.894971880892, 37.3392221073999], [-121.865548826801, 37.2207169102402], [-121.828159761905, 37.3655531428571]];\n  const markers = loaded === true && artData.slice(0, 52).map(data => /*#__PURE__*/_jsxDEV(Marker, {\n    latitude: parseFloat(data.latLong[1]),\n    longitude: parseFloat(data.latLong[0]),\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"button\",\n      onClick: e => {\n        e.preventDefault();\n        setShowpopup(data);\n      },\n      children: /*#__PURE__*/_jsxDEV(FaMapMarkerAlt, {\n        className: \"marker\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this)\n  }, id++, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 7\n  }, this)); // creating popup state for the marker\n\n  const [showPopup, setShowpopup] = React.useState(false); // Description\n\n  function description() {\n    return {\n      __html: showPopup === null || showPopup === void 0 ? void 0 : showPopup.artistName\n    };\n  }\n\n  return /*#__PURE__*/_jsxDEV(ReactMapGL, { ...viewport,\n    width: \"80vw\",\n    height: \"70vh\",\n    mapStyle: \"mapbox://styles/umapreethi/ckxz6deec9a3z14t88tqso5rb\",\n    onViewportChange: nextViewport => setViewport(nextViewport),\n    mapboxApiAccessToken: MAPBOX_TOKEN,\n    children: [markers, /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"info-box\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card popup-card\",\n        style: {\n          width: '16rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: mapImg,\n          className: \"card-img-top popup-img\",\n          alt: showPopup.title,\n          width: \"200\",\n          height: \"200\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"popup-title\",\n            children: showPopup.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"ARTIST\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"card-text\",\n            dangerouslySetInnerHTML: description()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            class: \"btn btn-primary popup-button\",\n            children: \"Get Directions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NavigationControl, {\n      position: \"bottom-right\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(Mapbox, \"nq32eebKfrdZL7rzUoKYIncV0SM=\");\n\n_c = Mapbox;\nexport default Mapbox;\n\nvar _c;\n\n$RefreshReg$(_c, \"Mapbox\");","map":{"version":3,"names":["React","ReactMapGL","Marker","Popup","FullscreenControl","NavigationControl","Component","useState","useEffect","axios","mapImg","FaMapMarkerAlt","MAPBOX_TOKEN","Mapbox","viewport","setViewport","latitude","longitude","zoom","ArtData","url","artData","setArtData","error","setError","loaded","setLoaded","get","then","response","data","catch","message","finally","map","console","log","parseFloat","latLong","id","geography","markers","slice","e","preventDefault","setShowpopup","showPopup","description","__html","artistName","nextViewport","width","title"],"sources":["/Users/lavanyagurajada/HOV_old/heartofthevalley/app/client/src/components/Mapbox.js"],"sourcesContent":["import * as React from 'react'\nimport '../assets/stylesheets/map.css'\nimport ReactMapGL, { Marker, Popup, FullscreenControl, NavigationControl } from 'react-map-gl'\nimport { Component } from 'react'\nimport { useState, useEffect } from 'react'\nimport 'mapbox-gl/dist/mapbox-gl.css'\nimport axios from \"axios\";\nimport mapImg from \"../assets/img/UntitledMural_LocatedAtVeggielutionFarm_SanJose_photoby_YanYinChoy.jpg\"\n\nimport { FaMapMarkerAlt } from 'react-icons/fa'\n\nconst MAPBOX_TOKEN =\n  'pk.eyJ1IjoidW1hcHJlZXRoaSIsImEiOiJja3diNm5wN3RnZWhsMnZwZzlyeTl5eDhhIn0.01MGUHXlsnSkJbv1u-mbmw' // Set your mapbox token here\n\n\nfunction Mapbox() {\n  const [viewport, setViewport] = useState({\n    latitude: 37.33829,\n    longitude: -121.88382,\n    zoom: 14,\n  })\n\n  // Calling MapData API to get data\n  \n\n  \n\n  const ArtData = (url) => {\n    const [artData, setArtData] = useState(null);\n    const [error, setError] = useState(\"\");\n    const [loaded, setLoaded] = useState(false);\n  \n    useEffect(() => {\n      axios\n        .get(url)\n        .then((response) => setArtData(response.data))\n        .catch((error) => setError(error.message))\n        .finally(() => setLoaded(true));\n    }, []);\n  \n    return { artData, error, loaded };\n  };\n \n  const {artData,error,loaded} = ArtData('http://localhost:3001/v1/heartofvalley/features')\n  if(loaded === true){\n    artData\n      .map((data) => {console.log(parseFloat(data.latLong[0]))})\n  }\n  \n  // Creating markers for the map\n  let id = 0, geography = [[-121.886727494171,\n    37.3378935622801],[-121.801459182274,\n      37.2997791496116],[-121.894971880892,\n        37.3392221073999],[-121.865548826801,\n          37.2207169102402],[-121.828159761905,\n            37.3655531428571]]\n   const markers = (loaded===true) && artData\n  .slice(0,52)\n   .map((data) => (\n      <Marker\n        key={id++}\n        latitude={parseFloat(data.latLong[1])}\n        longitude={parseFloat(data.latLong[0])}\n      >\n        <button\n          className=\"button\"\n          onClick={(e) => {\n            e.preventDefault()\n            setShowpopup(data)\n          }}\n        >\n          <FaMapMarkerAlt className=\"marker\" />\n        </button>\n      </Marker>\n    ))  \n   \n\n  // creating popup state for the marker\n  const [showPopup, setShowpopup] = React.useState(false)\n\n // Description\n  function description() {\n    return { __html: showPopup?.artistName }\n  }\n\n  return (\n    <ReactMapGL\n      {...viewport}\n      width=\"80vw\"\n      height=\"70vh\"\n      mapStyle=\"mapbox://styles/umapreethi/ckxz6deec9a3z14t88tqso5rb\"\n      onViewportChange={(nextViewport) => setViewport(nextViewport)}\n      mapboxApiAccessToken={MAPBOX_TOKEN}\n    >\n       {markers}   \n      <div id=\"info-box\">\n        <div className=\"card popup-card\" style={{ width: '16rem' }}>\n          <img\n            src={mapImg}\n            className=\"card-img-top popup-img\"\n            alt={showPopup.title}\n            width=\"200\"\n            height=\"200\"\n          />\n          <div className=\"card-body\">\n            <h4 className=\"popup-title\">{showPopup.title}</h4>\n            <p>ARTIST</p>\n            <p className=\"card-text\" dangerouslySetInnerHTML={description()}></p>\n            <a href=\"#\" class=\"btn btn-primary popup-button\">\n              Get Directions\n            </a>\n          </div>\n        </div>\n      </div>\n      <NavigationControl position=\"bottom-right\" />\n    </ReactMapGL>\n  )\n}\n\nexport default Mapbox\n"],"mappings":";;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAO,+BAAP;AACA,OAAOC,UAAP,IAAqBC,MAArB,EAA6BC,KAA7B,EAAoCC,iBAApC,EAAuDC,iBAAvD,QAAgF,cAAhF;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAO,8BAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,sFAAnB;AAEA,SAASC,cAAT,QAA+B,gBAA/B;;AAEA,MAAMC,YAAY,GAChB,+FADF,C,CACkG;;AAGlG,SAASC,MAAT,GAAkB;EAAA;;EAAA;;EAChB,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC;IACvCS,QAAQ,EAAE,QAD6B;IAEvCC,SAAS,EAAE,CAAC,SAF2B;IAGvCC,IAAI,EAAE;EAHiC,CAAD,CAAxC,CADgB,CAOhB;;EAKA,MAAMC,OAAO,GAAIC,GAAD,IAAS;IAAA;;IACvB,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBf,QAAQ,CAAC,IAAD,CAAtC;IACA,MAAM,CAACgB,KAAD,EAAQC,QAAR,IAAoBjB,QAAQ,CAAC,EAAD,CAAlC;IACA,MAAM,CAACkB,MAAD,EAASC,SAAT,IAAsBnB,QAAQ,CAAC,KAAD,CAApC;IAEAC,SAAS,CAAC,MAAM;MACdC,KAAK,CACFkB,GADH,CACOP,GADP,EAEGQ,IAFH,CAESC,QAAD,IAAcP,UAAU,CAACO,QAAQ,CAACC,IAAV,CAFhC,EAGGC,KAHH,CAGUR,KAAD,IAAWC,QAAQ,CAACD,KAAK,CAACS,OAAP,CAH5B,EAIGC,OAJH,CAIW,MAAMP,SAAS,CAAC,IAAD,CAJ1B;IAKD,CANQ,EAMN,EANM,CAAT;IAQA,OAAO;MAAEL,OAAF;MAAWE,KAAX;MAAkBE;IAAlB,CAAP;EACD,CAdD;;EAZgB,GAYVN,OAZU;;EA4BhB,MAAM;IAACE,OAAD;IAASE,KAAT;IAAeE;EAAf,IAAyBN,OAAO,CAAC,iDAAD,CAAtC;;EACA,IAAGM,MAAM,KAAK,IAAd,EAAmB;IACjBJ,OAAO,CACJa,GADH,CACQJ,IAAD,IAAU;MAACK,OAAO,CAACC,GAAR,CAAYC,UAAU,CAACP,IAAI,CAACQ,OAAL,CAAa,CAAb,CAAD,CAAtB;IAAyC,CAD3D;EAED,CAhCe,CAkChB;;;EACA,IAAIC,EAAE,GAAG,CAAT;EAAA,IAAYC,SAAS,GAAG,CAAC,CAAC,CAAC,gBAAF,EACvB,gBADuB,CAAD,EACJ,CAAC,CAAC,gBAAF,EAChB,gBADgB,CADI,EAEF,CAAC,CAAC,gBAAF,EAChB,gBADgB,CAFE,EAGA,CAAC,CAAC,gBAAF,EAChB,gBADgB,CAHA,EAIE,CAAC,CAAC,gBAAF,EAChB,gBADgB,CAJF,CAAxB;EAMC,MAAMC,OAAO,GAAIhB,MAAM,KAAG,IAAV,IAAmBJ,OAAO,CAC1CqB,KADmC,CAC7B,CAD6B,EAC3B,EAD2B,EAElCR,GAFkC,CAE7BJ,IAAD,iBACF,QAAC,MAAD;IAEE,QAAQ,EAAEO,UAAU,CAACP,IAAI,CAACQ,OAAL,CAAa,CAAb,CAAD,CAFtB;IAGE,SAAS,EAAED,UAAU,CAACP,IAAI,CAACQ,OAAL,CAAa,CAAb,CAAD,CAHvB;IAAA,uBAKE;MACE,SAAS,EAAC,QADZ;MAEE,OAAO,EAAGK,CAAD,IAAO;QACdA,CAAC,CAACC,cAAF;QACAC,YAAY,CAACf,IAAD,CAAZ;MACD,CALH;MAAA,uBAOE,QAAC,cAAD;QAAgB,SAAS,EAAC;MAA1B;QAAA;QAAA;QAAA;MAAA;IAPF;MAAA;MAAA;MAAA;IAAA;EALF,GACOS,EAAE,EADT;IAAA;IAAA;IAAA;EAAA,QAHgC,CAAnC,CAzCe,CA8DhB;;EACA,MAAM,CAACO,SAAD,EAAYD,YAAZ,IAA4B7C,KAAK,CAACO,QAAN,CAAe,KAAf,CAAlC,CA/DgB,CAiEjB;;EACC,SAASwC,WAAT,GAAuB;IACrB,OAAO;MAAEC,MAAM,EAAEF,SAAF,aAAEA,SAAF,uBAAEA,SAAS,CAAEG;IAArB,CAAP;EACD;;EAED,oBACE,QAAC,UAAD,OACMnC,QADN;IAEE,KAAK,EAAC,MAFR;IAGE,MAAM,EAAC,MAHT;IAIE,QAAQ,EAAC,sDAJX;IAKE,gBAAgB,EAAGoC,YAAD,IAAkBnC,WAAW,CAACmC,YAAD,CALjD;IAME,oBAAoB,EAAEtC,YANxB;IAAA,WAQI6B,OARJ,eASE;MAAK,EAAE,EAAC,UAAR;MAAA,uBACE;QAAK,SAAS,EAAC,iBAAf;QAAiC,KAAK,EAAE;UAAEU,KAAK,EAAE;QAAT,CAAxC;QAAA,wBACE;UACE,GAAG,EAAEzC,MADP;UAEE,SAAS,EAAC,wBAFZ;UAGE,GAAG,EAAEoC,SAAS,CAACM,KAHjB;UAIE,KAAK,EAAC,KAJR;UAKE,MAAM,EAAC;QALT;UAAA;UAAA;UAAA;QAAA,QADF,eAQE;UAAK,SAAS,EAAC,WAAf;UAAA,wBACE;YAAI,SAAS,EAAC,aAAd;YAAA,UAA6BN,SAAS,CAACM;UAAvC;YAAA;YAAA;YAAA;UAAA,QADF,eAEE;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAFF,eAGE;YAAG,SAAS,EAAC,WAAb;YAAyB,uBAAuB,EAAEL,WAAW;UAA7D;YAAA;YAAA;YAAA;UAAA,QAHF,eAIE;YAAG,IAAI,EAAC,GAAR;YAAY,KAAK,EAAC,8BAAlB;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAJF;QAAA;UAAA;UAAA;UAAA;QAAA,QARF;MAAA;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QATF,eA4BE,QAAC,iBAAD;MAAmB,QAAQ,EAAC;IAA5B;MAAA;MAAA;MAAA;IAAA,QA5BF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAgCD;;IAtGQlC,M;;KAAAA,M;AAwGT,eAAeA,MAAf"},"metadata":{},"sourceType":"module"}